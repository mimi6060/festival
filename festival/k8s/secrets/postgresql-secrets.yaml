---
# Template for Sealed Secrets - PostgreSQL
# To create a sealed secret, use:
# kubeseal --format=yaml --cert=sealed-secrets-cert.pem < postgresql-secrets-plain.yaml > postgresql-secrets-sealed.yaml
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: postgresql-secrets
  namespace: festival
  labels:
    app.kubernetes.io/name: postgresql
    app.kubernetes.io/component: database
    app.kubernetes.io/part-of: festival-platform
spec:
  encryptedData:
    # Replace these with actual sealed values after encryption
    POSTGRES_USER: AgBxxxxx  # Database admin username
    POSTGRES_PASSWORD: AgBxxxxx  # Database admin password
    REPLICATION_USER: AgBxxxxx  # Replication username
    REPLICATION_PASSWORD: AgBxxxxx  # Replication password
  template:
    metadata:
      name: postgresql-secrets
      namespace: festival
      labels:
        app.kubernetes.io/name: postgresql
        app.kubernetes.io/component: database
        app.kubernetes.io/part-of: festival-platform
    type: Opaque
---
# Plain secret template (DO NOT commit with real values)
# apiVersion: v1
# kind: Secret
# metadata:
#   name: postgresql-secrets
#   namespace: festival
# type: Opaque
# stringData:
#   POSTGRES_USER: "festival"
#   POSTGRES_PASSWORD: "your-secure-database-password"
#   REPLICATION_USER: "replicator"
#   REPLICATION_PASSWORD: "your-secure-replication-password"
